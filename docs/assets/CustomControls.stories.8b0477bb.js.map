{"version":3,"file":"CustomControls.stories.8b0477bb.js","sources":["../../src/stories/CustomControls.stories.jsx"],"sourcesContent":["import React, { useLayoutEffect } from 'react';\nimport Scene from '../components/Scene';\nimport { useDefaultSceneStore } from '../components';\nexport default {\n  title: 'CustomControls',\n  component: Scene\n};\nconst Template = args => {\n  const {\n    tfs,\n    items,\n    hulls,\n    lines,\n    texts,\n    widgets,\n    ...otherArgs\n  } = args;\n  const [play, pause, reset] = useDefaultSceneStore(state => [state.play, state.pause, state.reset]);\n  useLayoutEffect(() => {\n    useDefaultSceneStore.setState({\n      tfs,\n      items,\n      hulls,\n      lines,\n      texts,\n      widgets\n    });\n  }, [tfs, items, hulls, lines, texts, widgets]);\n  return <div style={{\n    height: 'calc(100vh - 3rem)',\n    width: 'calc(100vw - 2rem)'\n  }}>\n            <Scene {...otherArgs} store={useDefaultSceneStore} />\n            <div style={{\n      textAlign: 'center'\n    }}>\n                <button onClick={() => play()}>Play</button>\n                <button onClick={() => play(0.5)}>Play (0.5x)</button>\n                <button onClick={() => play(2)}>Play (2x)</button>\n                <button onClick={() => pause()}>Pause</button>\n                <button onClick={() => reset(0)}>Reset</button>\n                <button onClick={() => reset(Math.PI / 2)}>Reset (0.25)</button>\n                <button onClick={() => reset(Math.PI)}>Reset (0.5)</button>\n                <button onClick={() => reset(3 * Math.PI / 2)}>Reset (0.75)</button>\n            </div>\n        </div>;\n};\nexport const CustomControls = Template.bind({});\nCustomControls.args = {\n  tfs: {\n    movingFrame: {\n      frame: 'world',\n      position: {\n        x: time => Math.cos(time / 1000),\n        y: time => Math.sin(time / 1000),\n        z: 0\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      scale: {\n        x: time => 0.25 * Math.cos(time / 1000) + 1,\n        y: 1,\n        z: 1\n      }\n    }\n  },\n  items: {\n    colorshiftlift: {\n      shape: \"cube\",\n      name: \"ColorShift/Lift\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 0,\n        z: time => Math.sin(time / 1000) + 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: time => (Math.sin(time / 1000) / 2 + 0.5) * 255,\n        g: 10,\n        b: 10,\n        a: 1\n      },\n      scale: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.5\n      },\n      highlighted: true\n    },\n    opacity: {\n      shape: \"cube\",\n      name: \"Opacity\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 1,\n        z: 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 10,\n        a: time => Math.sin(time / 1000) / 2 + 0.5\n      },\n      scale: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.5\n      },\n      highlighted: false\n    },\n    scale: {\n      shape: \"cube\",\n      name: \"Scale\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 0,\n        z: 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: 10,\n        g: 255,\n        b: 10,\n        a: 1\n      },\n      scale: {\n        x: 0.5,\n        y: time => Math.sin(time / 1000) / 2 + 1,\n        z: 0.5\n      },\n      highlighted: false\n    },\n    hidden: {\n      shape: \"cube\",\n      name: \"Hidden\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 1,\n        z: 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 255,\n        a: 1\n      },\n      scale: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.5\n      },\n      hidden: time => Math.sin(time / 1000) > 0\n    }\n  },\n  lines: {},\n  hulls: {},\n  texts: {\n    colorshiftlift: {\n      value: \"ColorShift/Lift\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 0,\n        z: time => Math.sin(time / 1000) + 1.5\n      },\n      color: {\n        r: time => (Math.sin(time / 1000) / 2 + 0.5) * 255,\n        g: 10,\n        b: 10,\n        a: 1\n      }\n    },\n    opacity: {\n      value: \"Opacity\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 1,\n        z: 1.5\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 10,\n        a: time => Math.sin(time / 1000) / 2 + 0.5\n      }\n    },\n    scale: {\n      value: \"Scale\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 0,\n        z: 1.5\n      },\n      color: {\n        r: 10,\n        g: 255,\n        b: 10,\n        a: 1\n      }\n    },\n    hidden: {\n      value: \"Hidden\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 1,\n        z: 1.5\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 255,\n        a: 1\n      },\n      hidden: time => Math.sin(time / 1000) > 0\n    }\n  },\n  widgets: {},\n  displayTfs: true,\n  displayGrid: true,\n  isPolar: false,\n  backgroundColor: '#d0d0d0',\n  planeColor: '#a8a8a8',\n  highlightColor: '#ffffff',\n  plane: -0.75,\n  fov: 60,\n  ar: false,\n  vr: false,\n  onPointerMissed: () => console.log('Missed Click')\n};\nCustomControls.parameters = {\n  ...CustomControls.parameters,\n  storySource: {\n    source: \"args => {\\n  const {\\n    tfs,\\n    items,\\n    hulls,\\n    lines,\\n    texts,\\n    widgets,\\n    ...otherArgs\\n  } = args;\\n  const [play, pause, reset] = useDefaultSceneStore(state => [state.play, state.pause, state.reset]);\\n  useLayoutEffect(() => {\\n    useDefaultSceneStore.setState({\\n      tfs,\\n      items,\\n      hulls,\\n      lines,\\n      texts,\\n      widgets\\n    });\\n  }, [tfs, items, hulls, lines, texts, widgets]);\\n  return <div style={{\\n    height: 'calc(100vh - 3rem)',\\n    width: 'calc(100vw - 2rem)'\\n  }}>\\n            <Scene {...otherArgs} store={useDefaultSceneStore} />\\n            <div style={{\\n      textAlign: 'center'\\n    }}>\\n                <button onClick={() => play()}>Play</button>\\n                <button onClick={() => play(0.5)}>Play (0.5x)</button>\\n                <button onClick={() => play(2)}>Play (2x)</button>\\n                <button onClick={() => pause()}>Pause</button>\\n                <button onClick={() => reset(0)}>Reset</button>\\n                <button onClick={() => reset(Math.PI / 2)}>Reset (0.25)</button>\\n                <button onClick={() => reset(Math.PI)}>Reset (0.5)</button>\\n                <button onClick={() => reset(3 * Math.PI / 2)}>Reset (0.75)</button>\\n            </div>\\n        </div>;\\n}\",\n    ...CustomControls.parameters?.storySource\n  }\n};"],"names":["CustomControls_stories","title","component","Scene","Template","args","tfs","items","hulls","lines","texts","widgets","otherArgs","play","pause","reset","useDefaultSceneStore","state","useLayoutEffect","setState","height","width","_jsx","_jsxs","textAlign","Math","PI","CustomControls","bind","movingFrame","frame","position","x","time","cos","y","sin","z","rotation","w","scale","colorshiftlift","shape","name","color","r","g","b","a","highlighted","opacity","hidden","value","displayTfs","displayGrid","isPolar","backgroundColor","planeColor","highlightColor","plane","fov","ar","vr","onPointerMissed","console","log","parameters","storySource","source"],"mappings":"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"}