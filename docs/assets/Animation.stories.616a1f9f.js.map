{"version":3,"file":"Animation.stories.616a1f9f.js","sources":["../../src/stories/Animation.stories.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport Scene from \"../components/Scene\";\nimport { useDefaultSceneStore } from \"../components\";\nimport { MeshLookupTable } from \"./meshes/MeshLookup\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport ErrorFallback from \"./ErrorFallback\";\nexport default {\n  title: \"Animation\",\n  component: Scene\n};\nconst Template = args => {\n  const {\n    tfs,\n    items,\n    hulls,\n    lines,\n    texts,\n    points,\n    ...otherArgs\n  } = args;\n  const [play, pause, reset] = useDefaultSceneStore(state => [state.play, state.pause, state.reset]);\n  useEffect(() => {\n    useDefaultSceneStore.setState({\n      tfs,\n      items,\n      hulls,\n      lines,\n      texts,\n      points\n    });\n  }, [tfs, items, hulls, lines, texts, points]);\n  return <ErrorBoundary FallbackComponent={ErrorFallback}>\n      <div style={{\n      height: \"calc(100vh - 3rem)\",\n      width: \"calc(100vw - 2rem)\"\n    }}>\n        <Scene {...otherArgs} store={useDefaultSceneStore} meshLookup={MeshLookupTable} />\n        <div style={{\n        textAlign: \"center\"\n      }}>\n          <button onClick={() => play()}>Play</button>\n          <button onClick={() => play(0.5)}>Play (0.5x)</button>\n          <button onClick={() => play(2)}>Play (2x)</button>\n          <button onClick={() => pause()}>Pause</button>\n          <button onClick={() => reset(0)}>Reset</button>\n          <button onClick={() => reset(Math.PI / 2)}>Reset (0.25)</button>\n          <button onClick={() => reset(Math.PI)}>Reset (0.5)</button>\n          <button onClick={() => reset(3 * Math.PI / 2)}>Reset (0.75)</button>\n        </div>\n      </div>\n    </ErrorBoundary>;\n};\nexport const Animation = Template.bind({});\nAnimation.args = {\n  tfs: {\n    movingFrame: {\n      frame: \"world\",\n      position: {\n        x: time => Math.cos(time / 1000),\n        y: time => Math.sin(time / 1000),\n        z: 0\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      scale: {\n        x: time => 0.25 * Math.cos(time / 1000) + 1,\n        y: 1,\n        z: 1\n      }\n    }\n  },\n  items: {\n    colorshiftlift: {\n      shape: \"cube\",\n      name: \"ColorShift/Lift\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 0,\n        z: time => Math.sin(time / 1000) + 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: time => (Math.sin(time / 1000) / 2 + 0.5) * 255,\n        g: 10,\n        b: 10,\n        a: 1\n      },\n      scale: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.5\n      },\n      highlighted: true\n    },\n    opacity: {\n      shape: \"cube\",\n      name: \"Opacity\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 1,\n        z: 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 10,\n        a: time => Math.sin(time / 1000) / 2 + 0.5\n      },\n      scale: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.5\n      },\n      highlighted: false\n    },\n    scale: {\n      shape: \"cube\",\n      name: \"Scale\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 0,\n        z: 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: 10,\n        g: 255,\n        b: 10,\n        a: 1\n      },\n      scale: {\n        x: 0.5,\n        y: time => Math.sin(time / 1000) / 2 + 1,\n        z: 0.5\n      },\n      highlighted: false\n    },\n    hidden: {\n      shape: \"cube\",\n      name: \"Hidden\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 1,\n        z: 1\n      },\n      rotation: {\n        w: 1,\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 255,\n        a: 1\n      },\n      scale: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.5\n      },\n      hidden: time => Math.sin(time / 1000) > 0\n    }\n  },\n  lines: {},\n  hulls: {},\n  texts: {\n    colorshiftlift: {\n      value: \"ColorShift/Lift\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 0,\n        z: time => Math.sin(time / 1000) + 1.5\n      },\n      color: {\n        r: time => (Math.sin(time / 1000) / 2 + 0.5) * 255,\n        g: 10,\n        b: 10,\n        a: 1\n      }\n    },\n    opacity: {\n      value: \"Opacity\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 1,\n        z: 1.5\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 10,\n        a: time => Math.sin(time / 1000) / 2 + 0.5\n      }\n    },\n    scale: {\n      value: \"Scale\",\n      frame: \"movingFrame\",\n      position: {\n        x: 1,\n        y: 0,\n        z: 1.5\n      },\n      color: {\n        r: 10,\n        g: 255,\n        b: 10,\n        a: 1\n      }\n    },\n    hidden: {\n      value: \"Hidden\",\n      frame: \"movingFrame\",\n      position: {\n        x: 0,\n        y: 1,\n        z: 1.5\n      },\n      color: {\n        r: 10,\n        g: 10,\n        b: 255,\n        a: 1\n      },\n      hidden: time => Math.sin(time / 1000) > 0\n    }\n  },\n  points: {},\n  displayTfs: true,\n  displayGrid: true,\n  isPolar: false,\n  backgroundColor: \"#d0d0d0\",\n  planeColor: \"#a8a8a8\",\n  highlightColor: \"#ffffff\",\n  plane: -0.75,\n  fov: 60,\n  ar: false,\n  vr: false,\n  onPointerMissed: () => console.log(\"Missed Click\")\n};\nAnimation.parameters = {\n  ...Animation.parameters,\n  docs: {\n    ...Animation.parameters?.docs,\n    source: {\n      originalSource: \"args => {\\n  const {\\n    tfs,\\n    items,\\n    hulls,\\n    lines,\\n    texts,\\n    points,\\n    ...otherArgs\\n  } = args;\\n  const [play, pause, reset] = useDefaultSceneStore(state => [state.play, state.pause, state.reset]);\\n  useEffect(() => {\\n    useDefaultSceneStore.setState({\\n      tfs,\\n      items,\\n      hulls,\\n      lines,\\n      texts,\\n      points\\n    });\\n  }, [tfs, items, hulls, lines, texts, points]);\\n  return <ErrorBoundary FallbackComponent={ErrorFallback}>\\n      <div style={{\\n      height: \\\"calc(100vh - 3rem)\\\",\\n      width: \\\"calc(100vw - 2rem)\\\"\\n    }}>\\n        <Scene {...otherArgs} store={useDefaultSceneStore} meshLookup={MeshLookupTable} />\\n        <div style={{\\n        textAlign: \\\"center\\\"\\n      }}>\\n          <button onClick={() => play()}>Play</button>\\n          <button onClick={() => play(0.5)}>Play (0.5x)</button>\\n          <button onClick={() => play(2)}>Play (2x)</button>\\n          <button onClick={() => pause()}>Pause</button>\\n          <button onClick={() => reset(0)}>Reset</button>\\n          <button onClick={() => reset(Math.PI / 2)}>Reset (0.25)</button>\\n          <button onClick={() => reset(Math.PI)}>Reset (0.5)</button>\\n          <button onClick={() => reset(3 * Math.PI / 2)}>Reset (0.75)</button>\\n        </div>\\n      </div>\\n    </ErrorBoundary>;\\n}\",\n      ...Animation.parameters?.docs?.source\n    }\n  }\n};"],"names":["Animation_stories","title","component","Scene","Template","args","tfs","items","hulls","lines","texts","points","otherArgs","play","pause","reset","useDefaultSceneStore","state","useEffect","setState","ErrorBoundary","ErrorFallback","height","width","_jsx","MeshLookupTable","_jsxs","textAlign","Math","PI","Animation","bind","movingFrame","frame","position","x","time","cos","y","sin","z","rotation","w","scale","colorshiftlift","shape","name","color","r","g","b","a","highlighted","opacity","hidden","value","displayTfs","displayGrid","isPolar","backgroundColor","planeColor","highlightColor","plane","fov","ar","vr","onPointerMissed","console","log","parameters","docs","source","originalSource"],"mappings":"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"}